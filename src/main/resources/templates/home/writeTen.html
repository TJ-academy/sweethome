<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ™ì†Œ ì´ë¦„ ì„¤ì •</title>
    <!-- Tailwind CSSëŠ” í¼ í•„ë“œ ìŠ¤íƒ€ì¼ë§ì—ë§Œ ì‚¬ìš©í•˜ê³ , ë ˆì´ì•„ì›ƒ/í—¤ë”/í‘¸í„°ëŠ” ì»¤ìŠ¤í…€ CSSë¥¼ ë”°ë¦…ë‹ˆë‹¤. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ------------------------------------- */
        /* 1. ê³µí†µ ë° ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìŠ¤íƒ€ì¼ì—ì„œ ë³µì‚¬) */
        /* ------------------------------------- */
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f7f7f7;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .header {
            width: 100%;
            max-width: 1400px; 
            padding: 20px 40px;
            box-sizing: border-box;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: absolute;
            top: 0;
            z-index: 100;
        }

        .exit-button {
            background: none;
            border: none;
            color: #333;
            font-size: 1em;
            padding: 8px 15px;
            cursor: pointer;
            font-weight: 500;
            transition: color 0.2s;
        }
        
        .exit-button:hover {
            color: #3aa6e9; /* ê¸°ì¡´ ë²„íŠ¼ í˜¸ë²„ ìƒ‰ìƒ */
        }

        /* --- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ --- */
        .main-content-selection {
            width: 100%;
            /* writeNineì˜ max-width 1000pxë¥¼ ë”°ë¦…ë‹ˆë‹¤. */
            max-width: 1000px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            /* writeNineì˜ paddingì„ ë”°ë¦…ë‹ˆë‹¤. */
            padding: 120px 20px 100px 20px; 
            flex-grow: 1;
        }

        /* ------------------------------------- */
        /* ğŸŒŸ 2. ì œëª©/ì†Œì œëª© ìŠ¤íƒ€ì¼ (writeNineì— ë§ê²Œ ìˆ˜ì •) ğŸŒŸ */
        /* ------------------------------------- */
        .question-title {
            font-size: 2.5em; /* writeNineì™€ ë™ì¼ */
            font-weight: 700;
            color: #333;
            margin-top: 5vh;
            margin-bottom: 2vh; /* writeNineì™€ ë™ì¼ */
            text-align: center;
        }
        
        .question-subtitle {
            font-size: 1.1em; /* writeNineì™€ ë™ì¼ */
            font-weight: 400;
            color: #717171;
            margin-bottom: 40px; /* writeNineì™€ ë™ì¼ */
            text-align: center;
            line-height: 1.5; /* writeNineì™€ ë™ì¼ */
        }

        /* ------------------------------------- */
        /* 3. í•˜ë‹¨ ë°” (Footer) ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìŠ¤íƒ€ì¼ì—ì„œ ë³µì‚¬) */
        /* ------------------------------------- */
        .footer-bar {
            height: 80px;
            background-color: #f0f0f0; 
            width: 100%;
            position: fixed;
            bottom: 0;
            left: 0;
            z-index: 10; 
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px; 
            box-sizing: border-box;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.05);
        }

        .back-button {
            background: none;
            border: none;
            color: #717171;
            font-size: 1em;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: 600;
        }

        .next-button {
            background-color: #3aa6e9; /* ê¸°ì¡´ ë²„íŠ¼ ìƒ‰ìƒ */
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1em;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.2s;
            opacity: 1; 
            pointer-events: auto;
        }
        
        .next-button:hover {
            background-color: #1499FF; /* ê¸°ì¡´ ë²„íŠ¼ í˜¸ë²„ ìƒ‰ìƒ */
        }
    </style>
    <script>
        // ìµœëŒ€ ê¸€ì ìˆ˜: 200ìë¡œ ì„¤ì •
        const MAX_CHARS = 200;

        document.addEventListener('DOMContentLoaded', () => {
            const titleTextarea = document.getElementById('title');
            const charCount = document.getElementById('charCount');
            
            // ì´ˆê¸° ì¹´ìš´íŠ¸ ì„¤ì •
            const initialLength = titleTextarea.value.length;
            charCount.textContent = `${initialLength}/${MAX_CHARS}`;

            titleTextarea.addEventListener('input', () => {
                let text = titleTextarea.value;

                if (text.length > MAX_CHARS) {
                    // 200ìë¥¼ ì´ˆê³¼í•˜ë©´ 200ìê¹Œì§€ë§Œ ìë¦…ë‹ˆë‹¤.
                    text = text.substring(0, MAX_CHARS);
                    titleTextarea.value = text;
                }

                charCount.textContent = `${text.length}/${MAX_CHARS}`;
            });
        });
    </script>
</head>
<body>
    
    <!-- í—¤ë” (ê¸°ì¡´ êµ¬ì¡°ë¡œ ë³€ê²½) -->
    <div class="header">
        <div class="logo">
            <img src="/img/icon/logo.png" width="100" alt="ë¡œê³ ">
        </div>
        <button class="exit-button" onclick="location.href='/'">ë‚˜ê°€ê¸°</button>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ (ê¸°ì¡´ êµ¬ì¡°ë¡œ ë³€ê²½) -->
    <div class="main-content-selection">
        <!-- writeNineì— ë§ê²Œ ìµœëŒ€ ë„ˆë¹„ë¥¼ ê°€ì§„ ì»¨í…Œì´ë„ˆ ì œê±° ë° ì œëª© ìŠ¤íƒ€ì¼ ì§ì ‘ ì ìš© -->
        
        <!-- ì œëª© ì˜ì—­ -->
        <p class="question-title">
            ì´ì œ ì£¼íƒì— ì´ë¦„ì„ ì§€ì–´ì£¼ì„¸ìš”
        </p>
        <p class="question-subtitle">
            ìˆ™ì†Œ ì´ë¦„ì€ ì§§ì„ìˆ˜ë¡ íš¨ê³¼ì ì…ë‹ˆë‹¤. <br> ë‚˜ì¤‘ì— ì–¸ì œë“ ì§€ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë‹ˆ, ë„ˆë¬´ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”.
        </p>

        <form th:action="@{/home/writeTen}" method="post" th:object="${homeWriteDTO}" id="writeTenForm" class="w-full max-w-xl">
            <!-- í¼ ì˜ì—­ì˜ ë„ˆë¹„ë¥¼ ì œí•œí•˜ì—¬ ê°€ìš´ë°ì— ì˜¤ë„ë¡ í•©ë‹ˆë‹¤. -->
            
            <!-- ìˆ™ì†Œ ì´ë¦„ ì…ë ¥ (Tailwindë¥¼ ì´ìš©í•´ ìŠ¤íƒ€ì¼ ìœ ì§€) -->
            <div class="text-left">
                <textarea id="title" 
                          name="title" 
                          th:field="*{title}"
                          rows="8"
                          maxlength="200"
                          placeholder="ë§¤ë ¥ì ì¸ ìˆ™ì†Œ ì´ë¦„ì„ ì§€ì–´ì£¼ì„¸ìš”. (ìµœëŒ€ 200ì)"
                          class="w-full p-6 border-2 border-gray-300 rounded-xl shadow-lg resize-none 
                                 focus:border-gray-900 focus:ring-0 text-xl font-medium
                                 transition duration-200 ease-in-out hover:shadow-xl"
                          required></textarea>
                
                <div class="text-sm text-gray-500 mt-2 flex justify-end">
                    <span id="charCount" class="text-base font-medium text-gray-700">0/200</span>
                </div>
            </div>

            <div th:if="${error}" class="text-red-500 mt-4 text-sm font-medium" th:text="${error}"></div>
            
        </form>
    </div>

    <!-- í‘¸í„° ë°” (ê¸°ì¡´ êµ¬ì¡°ë¡œ ë³€ê²½) -->
    <div class="footer-bar">
        <!-- ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼: writeNineë¡œ ì´ë™ -->
        <a th:href="@{/home/writeNine}" class="back-button">ë’¤ë¡œ</a>
        
        <!-- ë‹¤ìŒ ë²„íŠ¼: í¼ ì œì¶œ (POST /home/writeTen í˜¸ì¶œ) -->
        <button class="next-button" id="nextButton" type="submit" form="writeTenForm">ë‹¤ìŒ</button>
    </div>
</body>
</html>
