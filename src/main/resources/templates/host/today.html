<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>투데이 일정 | 마이페이지</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- 공통 스타일 -->
  <link rel="stylesheet" th:href="@{/css/fragments/fragments.css}">
  <link rel="stylesheet" th:href="@{/css/fragments/sidebar.css}">
  <link rel="stylesheet" th:href="@{/css/mypage/mypage.css}">
  <link rel="stylesheet" th:href="@{/css/host/today.css}">
</head>
<body>
<div th:insert="~{fragments/header :: menuBar}"></div>

<div class="mypage-layout-wrap container-fluid">
  <div class="row">
    <div class="mypage-sidebar-col">
      <div th:insert="~{fragments/sidebarHost :: hostSideBar}"></div>
    </div>

    <div class="mypage-content-col">
      <div class="mypage-content-area">

        <!-- 상단 탭 -->
        <div class="host-tabs">
          <button class="tab-btn active">오늘</button>
          <button class="tab-btn">예정</button>
          <button class="tab-btn">예약</button>
        </div>

        <!-- 메인 보드 -->
        <section class="host-board">
          <div class="board-header">
            <div class="board-date" th:text="${todayDate}">2025-10-24</div>
            <div class="board-filter-pills">
              <button class="pill active">체크인</button>
              <button class="pill">체크아웃</button>
            </div>
          </div>

			<br>

          <!-- 숙소 필터 -->
          <div class="chip-wrap">
            <button class="chip active">전체 숙소</button>
            <button class="chip">수원시의 아파트</button>
            <button class="chip">포항시의 펜션</button>
            <button class="chip">서울시의 숙소</button>
          </div>

          <!-- 예약 테이블 -->
          <div class="board-table">
            <table class="table booking-table">
              <thead>
              <tr>
                <th>숙소</th>
                <th>게스트</th>
                <th>상태</th>
              </tr>
              </thead>
              <tbody>
              <tr th:each="r : ${todayList}">
                <td>
                  <div class="home-cell">
                    <img th:src="${r.homeImage}" class="home-thumb" alt="">
                    <div>
                      <div class="home-title" th:text="${r.homeTitle}">평온한 집</div>
                      <div class="home-meta" th:text="${r.homeLocation}">수원시</div>
                    </div>
                  </div>
                </td>
                <td th:text="${r.guestNickname}">ga희</td>
                <td>
                  <span th:if="${r.status == 'CHECKIN'}" class="badge-soft pink">체크인 예정</span>
                  <span th:if="${r.status == 'CHECKOUT'}" class="badge-soft gray">체크아웃 예정</span>
                  <span th:if="${r.status == 'STAYING'}" class="badge-soft gray">숙박 중</span>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>

<script>
  // 버튼 토글 공통
  document.querySelectorAll('.tab-btn, .pill, .chip').forEach(btn=>{
    btn.addEventListener('click',()=>{
      btn.parentElement.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
    });
  });
</script>
</body>
</html>
