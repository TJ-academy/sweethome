<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>홈 스윗 홈</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
<style>
	/* 로고 이미지 크기를 조정할 수 있는 스타일 (선택 사항) */
	.navbar-brand img {
	    height: 40px; /* 로고 높이 조정 */
	}
	
	/* ⭐ 검색 바 스타일 ⭐ */
	.search-container {
	    display: flex;
	    max-width: 850px;
	    margin: 50px auto;
	    border: 1px solid #ddd;
	    border-radius: 40px;
	    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	    padding: 0;
	    background-color: white;
	    position: relative;
	}
	
	.search-item {
	    flex-grow: 1;
	    padding: 10px 20px;
	    cursor: pointer;
	    text-align: left;
	    min-width: 0;
	    position: relative;
	}
	
	.search-item:not(:last-child) {
	    border-right: 1px solid #eee;
	}
	
	/* 첫 번째 검색 항목 (여행지) 기본 스타일 */
	.search-item:first-child {
	    border: none;
	    border-radius: 40px;
	    transition: box-shadow 0.2s, border 0.2s;
	}
	
	/* 여행지 항목이 활성화되었을 때의 스타일 (이미지 반영) */
	.search-item.active {
	    border: 1px solid #333 !important;
	    border-radius: 40px;
	    margin: -1px;
	    z-index: 10;
	    box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
	    background-color: white;
	}
	
	.search-label {
	    font-weight: bold;
	    font-size: 14px;
	    color: #333;
	    display: block;
	    margin-bottom: 2px;
	}
	
	.search-item input[type="text"],
	.search-item input[type="date"] {
	    border: none;
	    padding: 0;
	    width: 100%;
	    font-size: 14px;
	    color: #333;
	    outline: none;
	    background-color: transparent;
	    cursor: text;
	}
	
	/* Placeholder 스타일 */
	.search-item input::placeholder {
	    color: #999;
	    font-size: 14px;
	    opacity: 1;
	}
	
	.search-button-wrap {
	    flex-shrink: 0;
	    padding: 5px;
	}
	
	.search-button {
	    width: 50px;
	    height: 50px;
	    background-color: #5ab1f7;
	    border: none;
	    border-radius: 50%;
	    color: white;
	    font-size: 20px;
	    display: flex;
	    align-items: center;
	    justify-content: center;
	    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	}
	
	/* ⭐ 여행지 추천 목록 스타일 및 초기 숨김 ⭐ */
	.recommendation-list {
	    position: absolute;
	    top: 65px;
	    left: 0;
	    width: 300px;
	    background-color: white;
	    border-radius: 20px;
	    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
	    z-index: 20;
	    padding: 10px 0;
	    max-height: 400px;
	    overflow-y: auto;
	    border: 1px solid #ddd;
	    display: none; /* 초기 숨김 */
	    visibility: hidden; /* 초기 숨김 처리 */
	}
	
	.recommendation-item {
	    display: flex;
	    align-items: center;
	    padding: 10px 20px;
	    cursor: pointer;
	    transition: background-color 0.2s;
	}
	
	.recommendation-item:hover {
	    background-color: #f5f5f5;
	}
	
	.item-text {
	    flex-grow: 1;
	}
	
	.item-title {
	    font-weight: bold;
	    color: #333;
	    font-size: 14px;
	}
	
	.item-description {
	    font-size: 12px;
	    color: #777;
	    margin-top: 2px;
	}
	
	.item-icon {
	    width: 40px;
	    height: 40px;
	    border-radius: 8px;
	    margin-right: 15px;
	    display: flex;
	    align-items: center;
	    justify-content: center;
	    font-size: 20px;
	    color: white;
	}
	
	.icon-sea { background-color: #a0c4ff; }
	.icon-mountain { background-color: #b0e0a0; }
	.icon-city { background-color: #ffb7b2; }
	.icon-island { background-color: #ffd6a5; }
	
</style>
</head>
<body>

<nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">
            <img th:src="@{/img/logo.png}" alt="로고" style="height: 30px;">
        </a>
        <ul class="navbar-nav d-flex flex-row ms-auto">
            <li class="nav-item me-3"> 
                <a class="nav-link" aria-current="page" href="/test">테스트</a>
            </li>
            <li class="nav-item me-3"> 
                <a class="nav-link" aria-current="page" href="/home/detail/8">8번숙소보기</a>
            </li>
            <th:block th:if="${userProfile == null}">
                <li class="nav-item me-3">
                    <a class="nav-link" href="/user/join">가입하기</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/user/login">로그인하기</a>
                </li>
            </th:block>
            <th:block th:if="${userProfile != null}">
                <li class="nav-item me-3">
                    <a class="nav-link" href="/user/logout">로그아웃</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/mypage">마이페이지</a>
                </li>
            </th:block>
        </ul>
    </div>
</nav>
<div class="main-content">
    <div class="search-container">
        <div class="search-item" id="destination-search-item">
            <label for="destination" class="search-label">여행지</label>
            <input type="text" id="destination" placeholder="여행지 검색" />
            <div class="recommendation-list" id="recommendation-list">
                <div class="recommendation-item" data-region="서울">
                    <div class="item-icon icon-city">🏛️</div>
                    <div class="item-text">
                        <div class="item-title">서울</div>
                        <div class="item-description">역사와 현대가 공존하는 한국의 중심지</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="경기">
                    <div class="item-icon icon-city">🎡</div>
                    <div class="item-text">
                        <div class="item-title">경기</div>
                        <div class="item-description">수도권 최대 규모의 해양문화공간과 복합 테마파크를 즐길 수 있는 곳</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="인천">
                    <div class="item-icon icon-sea">🏝️</div>
                    <div class="item-text">
                        <div class="item-title">인천</div>
                        <div class="item-description">아름다운 섬들과 갯벌 체험, 역사적 등대가 있는 곳</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="대전">
                    <div class="item-icon icon-city">🔬</div>
                    <div class="item-text">
                        <div class="item-title">대전</div>
                        <div class="item-description">과학 명소와 황톳길, 메타세콰이어 숲 등 생태환경이 풍부한 도시</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="세종">
                    <div class="item-icon icon-city">🌳</div>
                    <div class="item-text">
                        <div class="item-title">세종</div>
                        <div class="item-description">국립수목원, 호수공원 등 다양한 휴식 공간이 있는 행정 중심 복합도시</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="충남">
                    <div class="item-icon icon-sea">🌊</div>
                    <div class="item-text">
                        <div class="item-title">충남</div>
                        <div class="item-description">광활한 갯벌과 고운 백사장, 아름다운 일출을 간직한 서해의 명소</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="충북">
                    <div class="item-icon icon-mountain">⛰️</div>
                    <div class="item-text">
                        <div class="item-title">충북</div>
                        <div class="item-description">단양 패러글라이딩, 이끼터널 등 자연경관이 아름다운 내륙의 명소</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="광주">
                    <div class="item-icon icon-city">🎨</div>
                    <div class="item-text">
                        <div class="item-title">광주</div>
                        <div class="item-description">문화와 예술, 그리고 맛의 도시로 불리는 예향</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="전남">
                    <div class="item-icon icon-sea">🎋</div>
                    <div class="item-text">
                        <div class="item-title">전남</div>
                        <div class="item-description">죽녹원, 느러지전망대, 해상케이블카 등 아름다운 비경과 자연이 가득한 곳</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="전북">
                    <div class="item-icon icon-city">韓</div>
                    <div class="item-text">
                        <div class="item-title">전북</div>
                        <div class="item-description">단풍으로 유명한 내장산과 근대 유산이 풍부한 군산 등 역사가 깊은 예향의 고장</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="대구">
                    <div class="item-icon icon-city">🥖</div>
                    <div class="item-text">
                        <div class="item-title">대구</div>
                        <div class="item-description">서문시장, 근대골목 등 볼거리와 먹거리가 가득한 활기 넘치는 도시</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="경북">
                    <div class="item-icon icon-mountain">🏘️</div>
                    <div class="item-text">
                        <div class="item-title">경북</div>
                        <div class="item-description">퇴계 선생의 가르침이 남아있는 도산서원, 독도 일출 등 역사와 자연이 공존하는 곳</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="부산">
                    <div class="item-icon icon-sea">🌉</div>
                    <div class="item-text">
                        <div class="item-title">부산</div>
                        <div class="item-description">해운대, 송도 등 바다의 정석을 보여주는 우리나라 최대 해양도시</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="울산">
                    <div class="item-icon icon-sea">🐳</div>
                    <div class="item-text">
                        <div class="item-title">울산</div>
                        <div class="item-description">태화강 국가정원, 간절곶 등 생태정원과 해양문화가 어우러진 산업 수도</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="경남">
                    <div class="item-icon icon-sea">⛴️</div>
                    <div class="item-text">
                        <div class="item-title">경남</div>
                        <div class="item-description">한려해상국립공원, 진주성과 같이 바다와 역사가 조화를 이루는 곳</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="강원">
                    <div class="item-icon icon-mountain">❄️</div>
                    <div class="item-text">
                        <div class="item-title">강원</div>
                        <div class="item-description">설악산, 경포대 등 웅장한 산맥과 동해안 바다가 어우러진 대한민국 대표 휴양지</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="제주">
                    <div class="item-icon icon-island">🍊</div>
                    <div class="item-text">
                        <div class="item-title">제주</div>
                        <div class="item-description">돌과 바람, 오름과 푸른 바다가 함께하는 대한민국 최고의 섬 관광지</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="search-item">
            <label for="checkin" class="search-label">체크인</label>
            <input type="date" id="checkin" placeholder="날짜 추가" />
        </div>
        <div class="search-item">
            <label for="checkout" class="search-label">체크아웃</label>
            <input type="date" id="checkout" placeholder="날짜 추가" />
        </div>
        <div class="search-item d-flex align-items-center justify-content-between">
            <div style="flex-grow: 1;">
                <label for="guests" class="search-label">여행자</label>
                <input type="text" id="guests" placeholder="게스트 추가" readonly style="cursor: pointer;" />
            </div>
            
            <div class="search-button-wrap">
                <button class="search-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.041.062.083.098.124l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.124-.099zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <!-- 콘텐츠 영역 -->
    ㅇㅇ
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const searchItem = document.getElementById('destination-search-item');
    const inputField = document.getElementById('destination');
    const list = document.getElementById('recommendation-list');
    const recommendationItems = document.querySelectorAll('.recommendation-item');

    // 목록 표시/숨김 및 활성화 스타일 토글 함수
    function toggleList(show) {
        if (show) {
            list.style.display = 'block';
            list.style.visibility = 'visible';
            searchItem.classList.add('active');
        } else {
            list.style.display = 'none';
            list.style.visibility = 'hidden';
            searchItem.classList.remove('active');
        }
    }

    // 1. 입력 필드 클릭/포커스 시 목록 표시
    inputField.addEventListener('click', function(event) {
        event.stopPropagation(); // 이벤트 버블링 방지
        toggleList(true);
    });

    inputField.addEventListener('focus', function() {
        toggleList(true);
    });

    // 2. 외부 클릭 시 목록 숨기기
    document.addEventListener('click', function(event) {
        if (!searchItem.contains(event.target)) {
            toggleList(false);
        }
    });

    // 3. 지역 항목 클릭 시 입력 필드 값 변경
    recommendationItems.forEach(item => {
        item.addEventListener('click', function(event) {
            const regionName = item.querySelector('.item-title').textContent;
            inputField.value = regionName;
            toggleList(false);
            document.getElementById('checkin').focus();
            event.stopPropagation();
        });
    });

    // 4. 입력 시 필터링 기능
    inputField.addEventListener('input', function() {
        const filter = inputField.value.toLowerCase();
        recommendationItems.forEach(item => {
            const title = item.querySelector('.item-title').textContent.toLowerCase();
            if (title.includes(filter)) {
                item.style.display = 'flex';
            } else {
                item.style.display = 'none';
            }
        });
    });
});
</script>

</body>
</html>
