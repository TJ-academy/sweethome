<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>í™ˆ ìŠ¤ìœ— í™ˆ</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
<style>
	/* ë¡œê³  ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆëŠ” ìŠ¤íƒ€ì¼ (ì„ íƒ ì‚¬í•­) */
	.navbar-brand img {
	    height: 40px; /* ë¡œê³  ë†’ì´ ì¡°ì • */
	}
	
	/* â­ ê²€ìƒ‰ ë°” ìŠ¤íƒ€ì¼ â­ */
	.search-container {
	    display: flex;
	    max-width: 850px;
	    margin: 50px auto;
	    border: 1px solid #ddd;
	    border-radius: 40px;
	    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	    padding: 0;
	    background-color: white;
	    position: relative;
	}
	
	.search-item {
	    flex-grow: 1;
	    padding: 10px 20px;
	    cursor: pointer;
	    text-align: left;
	    min-width: 0;
	    position: relative;
	}
	
	.search-item:not(:last-child) {
	    border-right: 1px solid #eee;
	}
	
	/* ì²« ë²ˆì§¸ ê²€ìƒ‰ í•­ëª© (ì—¬í–‰ì§€) ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
	.search-item:first-child {
	    border: none;
	    border-radius: 40px;
	    transition: box-shadow 0.2s, border 0.2s;
	}
	
	/* ì—¬í–‰ì§€ í•­ëª©ì´ í™œì„±í™”ë˜ì—ˆì„ ë•Œì˜ ìŠ¤íƒ€ì¼ (ì´ë¯¸ì§€ ë°˜ì˜) */
	.search-item.active {
	    border: 1px solid #333 !important;
	    border-radius: 40px;
	    margin: -1px;
	    z-index: 10;
	    box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
	    background-color: white;
	}
	
	.search-label {
	    font-weight: bold;
	    font-size: 14px;
	    color: #333;
	    display: block;
	    margin-bottom: 2px;
	}
	
	.search-item input[type="text"],
	.search-item input[type="date"] {
	    border: none;
	    padding: 0;
	    width: 100%;
	    font-size: 14px;
	    color: #333;
	    outline: none;
	    background-color: transparent;
	    cursor: text;
	}
	
	/* Placeholder ìŠ¤íƒ€ì¼ */
	.search-item input::placeholder {
	    color: #999;
	    font-size: 14px;
	    opacity: 1;
	}
	
	.search-button-wrap {
	    flex-shrink: 0;
	    padding: 5px;
	}
	
	.search-button {
	    width: 50px;
	    height: 50px;
	    background-color: #5ab1f7;
	    border: none;
	    border-radius: 50%;
	    color: white;
	    font-size: 20px;
	    display: flex;
	    align-items: center;
	    justify-content: center;
	    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	}
	
	/* â­ ì—¬í–‰ì§€ ì¶”ì²œ ëª©ë¡ ìŠ¤íƒ€ì¼ ë° ì´ˆê¸° ìˆ¨ê¹€ â­ */
	.recommendation-list {
	    position: absolute;
	    top: 65px;
	    left: 0;
	    width: 300px;
	    background-color: white;
	    border-radius: 20px;
	    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
	    z-index: 20;
	    padding: 10px 0;
	    max-height: 400px;
	    overflow-y: auto;
	    border: 1px solid #ddd;
	    display: none; /* ì´ˆê¸° ìˆ¨ê¹€ */
	    visibility: hidden; /* ì´ˆê¸° ìˆ¨ê¹€ ì²˜ë¦¬ */
	}
	
	.recommendation-item {
	    display: flex;
	    align-items: center;
	    padding: 10px 20px;
	    cursor: pointer;
	    transition: background-color 0.2s;
	}
	
	.recommendation-item:hover {
	    background-color: #f5f5f5;
	}
	
	.item-text {
	    flex-grow: 1;
	}
	
	.item-title {
	    font-weight: bold;
	    color: #333;
	    font-size: 14px;
	}
	
	.item-description {
	    font-size: 12px;
	    color: #777;
	    margin-top: 2px;
	}
	
	.item-icon {
	    width: 40px;
	    height: 40px;
	    border-radius: 8px;
	    margin-right: 15px;
	    display: flex;
	    align-items: center;
	    justify-content: center;
	    font-size: 20px;
	    color: white;
	}
	
	.icon-sea { background-color: #a0c4ff; }
	.icon-mountain { background-color: #b0e0a0; }
	.icon-city { background-color: #ffb7b2; }
	.icon-island { background-color: #ffd6a5; }
	
</style>
</head>
<body>

<nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">
            <img th:src="@{/img/logo.png}" alt="ë¡œê³ " style="height: 30px;">
        </a>
        <ul class="navbar-nav d-flex flex-row ms-auto">
            <li class="nav-item me-3"> 
                <a class="nav-link" aria-current="page" href="/test">í…ŒìŠ¤íŠ¸</a>
            </li>
            <li class="nav-item me-3"> 
                <a class="nav-link" aria-current="page" href="/home/detail/8">8ë²ˆìˆ™ì†Œë³´ê¸°</a>
            </li>
            <th:block th:if="${userProfile == null}">
                <li class="nav-item me-3">
                    <a class="nav-link" href="/user/join">ê°€ì…í•˜ê¸°</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/user/login">ë¡œê·¸ì¸í•˜ê¸°</a>
                </li>
            </th:block>
            <th:block th:if="${userProfile != null}">
                <li class="nav-item me-3">
                    <a class="nav-link" href="/user/logout">ë¡œê·¸ì•„ì›ƒ</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/mypage">ë§ˆì´í˜ì´ì§€</a>
                </li>
            </th:block>
        </ul>
    </div>
</nav>
<div class="main-content">
    <div class="search-container">
        <div class="search-item" id="destination-search-item">
            <label for="destination" class="search-label">ì—¬í–‰ì§€</label>
            <input type="text" id="destination" placeholder="ì—¬í–‰ì§€ ê²€ìƒ‰" />
            <div class="recommendation-list" id="recommendation-list">
                <div class="recommendation-item" data-region="ì„œìš¸">
                    <div class="item-icon icon-city">ğŸ›ï¸</div>
                    <div class="item-text">
                        <div class="item-title">ì„œìš¸</div>
                        <div class="item-description">ì—­ì‚¬ì™€ í˜„ëŒ€ê°€ ê³µì¡´í•˜ëŠ” í•œêµ­ì˜ ì¤‘ì‹¬ì§€</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ê²½ê¸°">
                    <div class="item-icon icon-city">ğŸ¡</div>
                    <div class="item-text">
                        <div class="item-title">ê²½ê¸°</div>
                        <div class="item-description">ìˆ˜ë„ê¶Œ ìµœëŒ€ ê·œëª¨ì˜ í•´ì–‘ë¬¸í™”ê³µê°„ê³¼ ë³µí•© í…Œë§ˆíŒŒí¬ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ê³³</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ì¸ì²œ">
                    <div class="item-icon icon-sea">ğŸï¸</div>
                    <div class="item-text">
                        <div class="item-title">ì¸ì²œ</div>
                        <div class="item-description">ì•„ë¦„ë‹¤ìš´ ì„¬ë“¤ê³¼ ê°¯ë²Œ ì²´í—˜, ì—­ì‚¬ì  ë“±ëŒ€ê°€ ìˆëŠ” ê³³</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ëŒ€ì „">
                    <div class="item-icon icon-city">ğŸ”¬</div>
                    <div class="item-text">
                        <div class="item-title">ëŒ€ì „</div>
                        <div class="item-description">ê³¼í•™ ëª…ì†Œì™€ í™©í†³ê¸¸, ë©”íƒ€ì„¸ì½°ì´ì–´ ìˆ² ë“± ìƒíƒœí™˜ê²½ì´ í’ë¶€í•œ ë„ì‹œ</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ì„¸ì¢…">
                    <div class="item-icon icon-city">ğŸŒ³</div>
                    <div class="item-text">
                        <div class="item-title">ì„¸ì¢…</div>
                        <div class="item-description">êµ­ë¦½ìˆ˜ëª©ì›, í˜¸ìˆ˜ê³µì› ë“± ë‹¤ì–‘í•œ íœ´ì‹ ê³µê°„ì´ ìˆëŠ” í–‰ì • ì¤‘ì‹¬ ë³µí•©ë„ì‹œ</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ì¶©ë‚¨">
                    <div class="item-icon icon-sea">ğŸŒŠ</div>
                    <div class="item-text">
                        <div class="item-title">ì¶©ë‚¨</div>
                        <div class="item-description">ê´‘í™œí•œ ê°¯ë²Œê³¼ ê³ ìš´ ë°±ì‚¬ì¥, ì•„ë¦„ë‹¤ìš´ ì¼ì¶œì„ ê°„ì§í•œ ì„œí•´ì˜ ëª…ì†Œ</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ì¶©ë¶">
                    <div class="item-icon icon-mountain">â›°ï¸</div>
                    <div class="item-text">
                        <div class="item-title">ì¶©ë¶</div>
                        <div class="item-description">ë‹¨ì–‘ íŒ¨ëŸ¬ê¸€ë¼ì´ë”©, ì´ë¼í„°ë„ ë“± ìì—°ê²½ê´€ì´ ì•„ë¦„ë‹¤ìš´ ë‚´ë¥™ì˜ ëª…ì†Œ</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ê´‘ì£¼">
                    <div class="item-icon icon-city">ğŸ¨</div>
                    <div class="item-text">
                        <div class="item-title">ê´‘ì£¼</div>
                        <div class="item-description">ë¬¸í™”ì™€ ì˜ˆìˆ , ê·¸ë¦¬ê³  ë§›ì˜ ë„ì‹œë¡œ ë¶ˆë¦¬ëŠ” ì˜ˆí–¥</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ì „ë‚¨">
                    <div class="item-icon icon-sea">ğŸ‹</div>
                    <div class="item-text">
                        <div class="item-title">ì „ë‚¨</div>
                        <div class="item-description">ì£½ë…¹ì›, ëŠëŸ¬ì§€ì „ë§ëŒ€, í•´ìƒì¼€ì´ë¸”ì¹´ ë“± ì•„ë¦„ë‹¤ìš´ ë¹„ê²½ê³¼ ìì—°ì´ ê°€ë“í•œ ê³³</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ì „ë¶">
                    <div class="item-icon icon-city">éŸ“</div>
                    <div class="item-text">
                        <div class="item-title">ì „ë¶</div>
                        <div class="item-description">ë‹¨í’ìœ¼ë¡œ ìœ ëª…í•œ ë‚´ì¥ì‚°ê³¼ ê·¼ëŒ€ ìœ ì‚°ì´ í’ë¶€í•œ êµ°ì‚° ë“± ì—­ì‚¬ê°€ ê¹Šì€ ì˜ˆí–¥ì˜ ê³ ì¥</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ëŒ€êµ¬">
                    <div class="item-icon icon-city">ğŸ¥–</div>
                    <div class="item-text">
                        <div class="item-title">ëŒ€êµ¬</div>
                        <div class="item-description">ì„œë¬¸ì‹œì¥, ê·¼ëŒ€ê³¨ëª© ë“± ë³¼ê±°ë¦¬ì™€ ë¨¹ê±°ë¦¬ê°€ ê°€ë“í•œ í™œê¸° ë„˜ì¹˜ëŠ” ë„ì‹œ</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ê²½ë¶">
                    <div class="item-icon icon-mountain">ğŸ˜ï¸</div>
                    <div class="item-text">
                        <div class="item-title">ê²½ë¶</div>
                        <div class="item-description">í‡´ê³„ ì„ ìƒì˜ ê°€ë¥´ì¹¨ì´ ë‚¨ì•„ìˆëŠ” ë„ì‚°ì„œì›, ë…ë„ ì¼ì¶œ ë“± ì—­ì‚¬ì™€ ìì—°ì´ ê³µì¡´í•˜ëŠ” ê³³</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ë¶€ì‚°">
                    <div class="item-icon icon-sea">ğŸŒ‰</div>
                    <div class="item-text">
                        <div class="item-title">ë¶€ì‚°</div>
                        <div class="item-description">í•´ìš´ëŒ€, ì†¡ë„ ë“± ë°”ë‹¤ì˜ ì •ì„ì„ ë³´ì—¬ì£¼ëŠ” ìš°ë¦¬ë‚˜ë¼ ìµœëŒ€ í•´ì–‘ë„ì‹œ</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ìš¸ì‚°">
                    <div class="item-icon icon-sea">ğŸ³</div>
                    <div class="item-text">
                        <div class="item-title">ìš¸ì‚°</div>
                        <div class="item-description">íƒœí™”ê°• êµ­ê°€ì •ì›, ê°„ì ˆê³¶ ë“± ìƒíƒœì •ì›ê³¼ í•´ì–‘ë¬¸í™”ê°€ ì–´ìš°ëŸ¬ì§„ ì‚°ì—… ìˆ˜ë„</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ê²½ë‚¨">
                    <div class="item-icon icon-sea">â›´ï¸</div>
                    <div class="item-text">
                        <div class="item-title">ê²½ë‚¨</div>
                        <div class="item-description">í•œë ¤í•´ìƒêµ­ë¦½ê³µì›, ì§„ì£¼ì„±ê³¼ ê°™ì´ ë°”ë‹¤ì™€ ì—­ì‚¬ê°€ ì¡°í™”ë¥¼ ì´ë£¨ëŠ” ê³³</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ê°•ì›">
                    <div class="item-icon icon-mountain">â„ï¸</div>
                    <div class="item-text">
                        <div class="item-title">ê°•ì›</div>
                        <div class="item-description">ì„¤ì•…ì‚°, ê²½í¬ëŒ€ ë“± ì›…ì¥í•œ ì‚°ë§¥ê³¼ ë™í•´ì•ˆ ë°”ë‹¤ê°€ ì–´ìš°ëŸ¬ì§„ ëŒ€í•œë¯¼êµ­ ëŒ€í‘œ íœ´ì–‘ì§€</div>
                    </div>
                </div>
                <div class="recommendation-item" data-region="ì œì£¼">
                    <div class="item-icon icon-island">ğŸŠ</div>
                    <div class="item-text">
                        <div class="item-title">ì œì£¼</div>
                        <div class="item-description">ëŒê³¼ ë°”ëŒ, ì˜¤ë¦„ê³¼ í‘¸ë¥¸ ë°”ë‹¤ê°€ í•¨ê»˜í•˜ëŠ” ëŒ€í•œë¯¼êµ­ ìµœê³ ì˜ ì„¬ ê´€ê´‘ì§€</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="search-item">
            <label for="checkin" class="search-label">ì²´í¬ì¸</label>
            <input type="date" id="checkin" placeholder="ë‚ ì§œ ì¶”ê°€" />
        </div>
        <div class="search-item">
            <label for="checkout" class="search-label">ì²´í¬ì•„ì›ƒ</label>
            <input type="date" id="checkout" placeholder="ë‚ ì§œ ì¶”ê°€" />
        </div>
        <div class="search-item d-flex align-items-center justify-content-between">
            <div style="flex-grow: 1;">
                <label for="guests" class="search-label">ì—¬í–‰ì</label>
                <input type="text" id="guests" placeholder="ê²ŒìŠ¤íŠ¸ ì¶”ê°€" readonly style="cursor: pointer;" />
            </div>
            
            <div class="search-button-wrap">
                <button class="search-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.041.062.083.098.124l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.124-.099zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <!-- ì½˜í…ì¸  ì˜ì—­ -->
    ã…‡ã…‡
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const searchItem = document.getElementById('destination-search-item');
    const inputField = document.getElementById('destination');
    const list = document.getElementById('recommendation-list');
    const recommendationItems = document.querySelectorAll('.recommendation-item');

    // ëª©ë¡ í‘œì‹œ/ìˆ¨ê¹€ ë° í™œì„±í™” ìŠ¤íƒ€ì¼ í† ê¸€ í•¨ìˆ˜
    function toggleList(show) {
        if (show) {
            list.style.display = 'block';
            list.style.visibility = 'visible';
            searchItem.classList.add('active');
        } else {
            list.style.display = 'none';
            list.style.visibility = 'hidden';
            searchItem.classList.remove('active');
        }
    }

    // 1. ì…ë ¥ í•„ë“œ í´ë¦­/í¬ì»¤ìŠ¤ ì‹œ ëª©ë¡ í‘œì‹œ
    inputField.addEventListener('click', function(event) {
        event.stopPropagation(); // ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë°©ì§€
        toggleList(true);
    });

    inputField.addEventListener('focus', function() {
        toggleList(true);
    });

    // 2. ì™¸ë¶€ í´ë¦­ ì‹œ ëª©ë¡ ìˆ¨ê¸°ê¸°
    document.addEventListener('click', function(event) {
        if (!searchItem.contains(event.target)) {
            toggleList(false);
        }
    });

    // 3. ì§€ì—­ í•­ëª© í´ë¦­ ì‹œ ì…ë ¥ í•„ë“œ ê°’ ë³€ê²½
    recommendationItems.forEach(item => {
        item.addEventListener('click', function(event) {
            const regionName = item.querySelector('.item-title').textContent;
            inputField.value = regionName;
            toggleList(false);
            document.getElementById('checkin').focus();
            event.stopPropagation();
        });
    });

    // 4. ì…ë ¥ ì‹œ í•„í„°ë§ ê¸°ëŠ¥
    inputField.addEventListener('input', function() {
        const filter = inputField.value.toLowerCase();
        recommendationItems.forEach(item => {
            const title = item.querySelector('.item-title').textContent.toLowerCase();
            if (title.includes(filter)) {
                item.style.display = 'flex';
            } else {
                item.style.display = 'none';
            }
        });
    });
});
</script>

</body>
</html>
