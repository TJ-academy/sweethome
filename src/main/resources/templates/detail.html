<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="|${hotel.name} 상세 정보|">포항 영일대 오션뷰 숙소 상세 정보</title>
    <style>
        /* 기본 스타일은 생략하고, 구조를 이해하기 위한 최소한의 스타일만 포함 */
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; background-color: #f4f4f4; }
        .container { max-width: 1200px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .gallery { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
        .main-img, .sub-img { flex: 1; min-width: 200px; max-height: 300px; overflow: hidden; }
        .main-img img, .sub-img img { width: 100%; height: 100%; object-fit: cover; border-radius: 5px; }
        .main-img { flex-basis: 50%; }
        .info-section { display: flex; justify-content: space-between; gap: 40px; }
        .description-box, .booking-box { flex: 1; }
        .booking-box { border: 1px solid #ddd; padding: 20px; border-radius: 8px; }
        .price { font-size: 2em; font-weight: bold; color: #333; margin-bottom: 20px; }
        .host-info { display: flex; align-items: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee; }
        .host-img { width: 50px; height: 50px; border-radius: 50%; margin-right: 10px; object-fit: cover; }
        .rating { font-weight: bold; color: #ff5a5f; }
        .map-section { margin-top: 40px; }
        .review-card { border-bottom: 1px solid #eee; padding: 15px 0; }
        .facility-group { display: flex; justify-content: space-between; margin-top: 20px; }
        .policy-item { flex: 1; padding: 0 10px; }
    </style>
</head>
<body>
<div class="container">

    <h1 th:text="|${hotel.title}|">[포항] 영일대 오션뷰 온수풀/최대 10인/강아지 동반 가능</h1>
    <p th:text="|최대 인원: ${hotel.maxGuests}명 · 침실 ${hotel.numBedrooms}개 · 침대 ${hotel.numBeds}개 · 욕실 ${hotel.numBathrooms}개|">최대 인원: 10명 · 침실 3개 · 침대 3개 · 욕실 2개</p>
    <p><span class="rating" th:text="|★ ${hotel.rating} · 후기 ${hotel.reviewCount}개|">★ 4.9 · 후기 12개</span></p>

    <div class="gallery">
        <div class="main-img">
            <img th:src="${hotel.mainImageUrl}" src="image_a2d3c6_main.jpg" alt="메인 숙소 이미지">
        </div>
        <div class="sub-img" th:each="image, iterStat : ${hotel.subImageUrls}">
            <img th:src="${image}" src="image_a2d3c6_sub1.jpg" alt="서브 숙소 이미지">
        </div>
    </div>

    <div class="info-section">
        
        <div class="description-box">
            
            <h2 th:text="|숙소 설명|">숙소 설명</h2>
             <div id="short-description">
                <div th:utext="${hotel.description}">
                    <p>※10월 11일 GRAND OPEN!! 공식적으로 등록된 펜션 숙소입니다.</p>
                    <p>객실은 영일대 해상 누각을 정면으로 바라보며, 따뜻함이 느껴지도록 제작된 객실과 테라스가 있는 고급 숙소입니다.</p>
                </div>
            </div>
            
            <div id="full-description" style="display: none;">
                <div th:utext="${hotel.fullDescription}">
                    <p>※10월 11일 GRAND OPEN!! 공식적으로 등록된 펜션 숙소입니다.</p>
                    <p>※10월 한정 오픈 이벤트 50% 할인 (2박이상) 제공</p>
                    <p>객실은 영일대 해상 누각을 정면으로 바라보며, 따뜻함이 느껴지도록 제작된 객실과 테라스가 있는 고급 숙소입니다.</p>
                    <p>답답하지 않은 세련된 실내 공간을 가지고 있으며, 어느 누구와 함께라도 힐링되는 만족감과 휴식을 경험하게 해줍니다.</p>
                </div>
            </div>
            
            <button id="toggle-button" onclick="toggleDescription()">더 보기</button> 

            <div class="host-info">
                <img class="host-img" th:src="${hotel.host.profileImageUrl}" src="image_a2d3c6_host.jpg" alt="호스트 이미지">
                <div>
                    <p th:text="|호스트: ${hotel.host.name}|">호스트: Seonah Kim 님</p>
                    <p th:text="|호스트 활동 기간: ${hotel.host.memberSince}년|">호스트 활동 기간: 3년</p>
                </div>
            </div>
            
        </div>
        
        <div class="booking-box">
            <div class="price">
                <span th:text="|${#numbers.formatInteger(hotel.basePrice, 3, 'COMMA')}원|">720,000원</span>
                <span> · 5박</span>
            </div>
            <div class="dates">
                <label for="check-in">체크인</label>
                <input type="date" id="check-in" 
                       th:value="${#temporals.format(hotel.checkInDate, 'yyyy-MM-dd')}">
                
                <label for="check-out">체크아웃</label>
                <input type="date" id="check-out" 
                       th:value="${#temporals.format(hotel.checkOutDate, 'yyyy-MM-dd')}">
            </div>
            <select>
                <option th:each="guest : ${#numbers.sequence(1, hotel.maxGuests)}" th:value="${guest}" th:text="|게스트 ${guest}명|" th:selected="${guest == hotel.defaultGuestCount}">게스트 2명</option>
            </select>
            <button th:text="|예약하기|">예약하기</button>
            <p th:text="|예약 확정 전에는 요금이 청구되지 않습니다.|">예약 확정 전에는 요금이 청구되지 않습니다.</p>
        </div>
        
    </div>
    
    <div class="bedroom-section">
        <h2 th:text="|숙박 장소|">숙박 장소</h2>
        <div th:each="room, iterStat : ${hotel.rooms}">
            <div th:text="|침실 ${iterStat.count}|">침실 1</div>
            <div th:text="|${room.bedType} ${room.bedCount}개|">퀸사이즈 침대 1개</div>
        </div>
    </div>
    
    <div class="map-section">
        <h2 th:text="|위치|">위치</h2>
        <p th:text="${hotel.location}">대한민국, 경상북도 포항시</p>
            </div>

	<div class="review-section">
        <h2 th:text="|★ ${hotel.rating} · 후기 ${hotel.reviewCount}개|">★ 4.9 · 후기 12개</h2>
        
        <div th:each="review : ${hotel.latestReviews}" class="review-card">
            <p th:text="${review.userName}">박*근</p>
            <p th:text="${review.userMemberSinceText}">호스트 활동 기간 3년</p>
            <p th:text="${review.comment}">모든 것이 완벽했고 오션뷰가 정말 좋았습니다...</p>
            <button>더보기</button>
        </div>
    </div>

    <div class="amenities-section">
        <h2 th:text="|숙소 편의시설|">숙소 편의시설</h2>
        <ul th:each="amenity : ${hotel.amenities}">
            <li th:text="${amenity}">수영장</li>
            </ul>
        <button>더 보기</button>
    </div>
    
    <div class="rules-section">
        <h2 th:text="|알아두어야 할 사항|">알아두어야 할 사항</h2>
        <div class="facility-group">
            <div class="policy-item">
                <h3 th:text="|숙소 이용 규칙|">숙소 이용 규칙</h3>
                <p th:text="|체크인 시간: ${hotel.rules.checkInTime}|">체크인 시간: 오후 3:00~오전 12:00</p>
                <p th:text="|체크아웃 시간: ${hotel.rules.checkOutTime}|">체크아웃 시간: 오전 11:00까지</p>
                <p th:text="|게스트 정원: ${hotel.rules.guestLimit}명|">게스트 정원: 10명</p>
                <button>더 보기</button>
            </div>
            <div class="policy-item">
                <h3 th:text="|안전 및 공간|">안전 및 공간</h3>
                <p th:text="|일산화탄소 경보기: ${hotel.safety.coDetector}|">일산화탄소 경보기 없음</p>
                <p th:text="|부지 내 실내 보안 카메라: ${hotel.safety.indoorCamera}|">부지 내 실내 보안 카메라</p>
                <p th:text="|화재경보기: ${hotel.safety.fireDetector}|">화재경보기</p>
                <button>더 보기</button>
            </div>
            <div class="policy-item">
                <h3 th:text="|환불 정책|">환불 정책</h3>
                <p th:text="${hotel.cancellationPolicy.summary}">24시간 동안 무료 취소가 가능합니다. 10월 24일 전에 취소 시 부분 환불 가능</p>
                <button>더 보기</button>
            </div>
        </div>
    </div>

</div>
<script>
    function toggleDescription() {
        var shortDesc = document.getElementById('short-description');
        var fullDesc = document.getElementById('full-description');
        var button = document.getElementById('toggle-button');

        // 짧은 설명 숨기기
        shortDesc.style.display = 'none';
        
        // 전체 설명 보이기
        fullDesc.style.display = 'block';

        // 버튼 텍스트를 "닫기"로 변경하고 기능 재연결 (선택 사항)
        button.textContent = '닫기';
        button.onclick = function() {
            // "닫기" 클릭 시 다시 원래대로 복원
            shortDesc.style.display = 'block';
            fullDesc.style.display = 'none';
            button.textContent = '더 보기';
            button.onclick = toggleDescription; // 원래 함수로 복구
        };
    }
</script>

</body>
</html>